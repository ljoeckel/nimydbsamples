<div id="container" class="card" data-signals="{formId: 'Admin', page: 0, maxrows: 5}">
    <div class="header">
        <h1>Administration</h1>
    </div>

    <table class="styled-table" data-init="@get('/api/submits')">
        <thead>
            <tr>
                <th>Form</th>
                <th>Submit#</th>
                <th>Name</th>
                <th>Email</th>
                <th>Request</th>
                <th>Action</th>
            </tr>
        </thead>
        <!-- The backend will target this ID to insert rows -->
        <tbody id="user-table-body"></tbody>
    </table>

    <!-- Paginierungs-Steuerung -->
    <div class="pagination">
        <button id="btn_prev" data-on:click="$page--; $page = Math.max(0, $page); @get('/api/submits')">Prev</button>
        <span id="page_info" data-text="'Page ' + $page"></span>
        <button id="btn_next" data-on:click="$page++; @get('/api/submits')">Next</button>
    </div>

    <form class="form" data-on:submit__prevent="@post('/submit-form')">
        <name-field data-ignore-morph></name-field>
        <email-field data-ignore-morph></email-field>
        <message-field data-ignore-morph class="full"></message-field>
        <status-field data-ignore-morph></status-field>

        <!-- Buttons -->
        <div class="actions full">
            <button class="btn" type="submit" data-attr:disabled="!$canSubmit">Submit</button>
            <button class="btn btn-secondary" type="button" data-on:click="@get('/clear-form')">Clear</button>
            <!-- Response from server is here -->
            <div id="response-message"></div>
        </div>
    </form>
</div>